<meta charset="utf-8">
<script>

    /*
    Игра в загадки
    a. Загадать загадку. Если ответ верен – поздравить пользователя. Затем сообщить, что игра окончена.
    b. Если ответ неверный – написать пользователю, что он не угадал.
    c. Добавить еще 3 загадки. Подсчитать количество правильных ответов, сообщить пользователю.
    d. В качестве верного ответа принимать несколько вариантов ответов. Например, «Стул», «стул», «табуретка» и так далее.
    */

    var PUZZLES = 
    [
        ["Сидит девица в темнице, а коса на улице. Что это такое?",
         ["морковь", "морковка"]],
        
        ["Друг зверей и друг детей\nДобрый доктор ...",
         ["айболит"]],
                    
        ["У него огромный рот,\nОн зовется ...",
         ["бегемот", "гиппопотам"]],

        ["Белым снегом всё одето -\nЗначит, наступает ...",
         ["зима"]]
    ];
    
    //--------------------------------------------------------------------------------
    
    function puzzleText(puzzle) {
        return puzzle[0];
    }

    function puzzleAnswers(puzzle) {
        return puzzle[1];
    }

    function contains(arr, elt) {
        for (var i = 0; i < arr.length; ++i) {
            if (elt == arr[i]) {
                return true;
            }
        }
        return false;
    }
    
    //--------------------------------------------------------------------------------
    //--------------------------------------------------------------------------------
    //--------------------------------------------------------------------------------

    var winCnt = 0; // Счет побед

    for (var i = 0; i < PUZZLES.length; ++i) {
        var puzzle = PUZZLES[i];
        var text = puzzleText(puzzle);
        var answers = puzzleAnswers(puzzle);
        var guess = prompt(text).toLowerCase();

        if (contains(answers, guess)) {
            alert("Правильно!");
            ++ winCnt;
        } else {
            alert(guess.toUpperCase() +
                  " -- не верно. Правильный ответ: " +
                  answers[0].toUpperCase() + ".");
        }
    }

    document.write("Игра окончена! Правильных ответов: " + winCnt + " из " + PUZZLES.length);

</script>